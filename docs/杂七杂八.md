## 杂七杂八的-Oauth

### [OAuth](https://blog.csdn.net/czhmx/article/details/147277817) 
#### 参数
* grant_type：表示使用的授权模式，必选项，此处的值固定为"authorization_code"。
* appID：表示客户端ID，必选项。
* scope：表示申请的权限范围，该示例中为（获取微信好友列表），可选项。
* state：表示客户端的当前状态，可以指定任意值，认证服务器会原封不动地返回这个值。
* redirect_uri：表示重定向URI，可选项。

#### OAuth 2.0 定义了四种授权方式: 授权码模式Authorization Code）/隐式授权模式（Implicit）/密码模式（Resource Owner Password Credentials）/客户端模式（Client Credentials）

* 授权码模式

    授权码模式是最常用的授权流程。也是功能最完整、流程最严密的授权模式。
 
    1. 授权请求：客户端将用户重定向到授权服务器，请求授权。 
    2. 用户授权：用户在授权服务器上登录并同意授权。 
    3. 授权码返回：授权服务器将用户重定向回客户端，并附带授权码。 
    4. 令牌请求：客户端使用授权码向授权服务器请求访问令牌。 
    5. 令牌颁发：授权服务器验证授权码并返回访问令牌。 
    6. 资源访问：客户端使用访问令牌向资源服务器请求受保护资源。

    优点： 
    * 安全性高，授权码不直接暴露给用户。 
    * 支持刷新令牌机制，延长访问权限。


* 隐式授权模式（Implicit）

    隐式授权模式主要用于纯前端应用，如JavaScript SPA（单页应用）。

    在隐式授权模式中，不是向客户端颁发授权码，而是直接向客户端颁发访问令牌（Access Token）（作为资源所有者授权的结果）。省去了颁发中间凭据（例如授权代码）的过程。
  1. 授权请求：客户端将用户重定向到授权服务器，请求授权。
  2. 用户授权：用户在授权服务器上登录并同意授权。 
  3. 访问令牌返回：授权服务器将用户重定向回客户端，并直接返回访问令牌。 
  4. 令牌使用：客户端（通常是网页中的脚本）从重定向后的 URI 片段中提取访问令牌，并使用该令牌访问受保护的资源。

  优点： 
  * 流程简单，无需客户端处理授权码。
  
  缺点： 
  * 访问令牌直接暴露给客户端，安全性较低。 
  * 不支持刷新令牌，需重新授权。


* 密码模式（Resource Owner Password Credentials）

    密码模式是一种较为简单的流程，用户直接将用户名和密码提供给客户端，客户端使用这些信息向授权服务器请求访问令牌。客户端不得存储密码。

    密码模式主要用于信任级别较高的应用，如同一公司的不同产品。
  1. 凭证请求：客户端直接收集用户的用户名和密码。 
  2. 令牌请求：客户端使用用户名和密码向授权服务器请求访问令牌。 
  3. 令牌颁发：授权服务器验证凭据并返回访问令牌。

  优点： 
  * 流程简单，无需重定向。
  缺点： 
  * 客户端需要处理用户凭据，安全性较低。 
  * 不适用于第三方应用。


* 客户端模式（Client Credentials）

    客户端模式主要用于没有用户参与的后端服务（如开放API的场景）。
  1. 凭证请求：客户端使用其客户端 ID 和客户端密钥向授权服务器请求访问令牌。 
  2. 令牌颁发：授权服务器验证客户端凭据并返回访问令牌。
    
  优点： 
  * 流程简单，适用于客户端自身的资源访问。
  缺点： 
  * 不适用于访问用户资源。